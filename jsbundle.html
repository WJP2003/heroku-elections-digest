<html>

<div id="header" style="font-family:Verdana; font-size:50pt; font-weight: bold;">
	House of Representatives Elections
</div>

<div id="hover_box" style="visibility: hidden; position: fixed; pointer-events: none;">
	<svg width="120" height="70">
		<g>
			<rect width="120" height="70" style="fill:rgb(255,255,255);stroke-width:10;stroke:rgb(0,0,0)"></rect>
			<text id="hover_box_text" x="50%" y="20%" text-anchor="middle" stroke-opacity="90%" stroke-width="1px" style="font-family:Verdana;">
				<tspan x="50%" dy="1.2em" id="hover_box_text_district" style="font-weight:bold;">
					OH-12
				</tspan><tspan x="50%" text-anchor="middle" dy="1.2em" id="hover_box_text_rating">
					Solid Rep.
				</tspan>
			</text>
		</g>
	</svg>
</div>

<style>
	path {
		font-size: 34.375px;
		font-style: normal;
		font-weight: 400;
		opacity: 1;
		fill-opacity: 1;
		fill-rule: evenodd;
		stroke: rgb(0, 0, 0);
		stroke-width: 0.333334;
		stroke-linecap: square;
		stroke-linejoin: bevel; 
		stroke-miterlimit: 4;
		stroke-dasharray: none;
		stroke-opacity: 0.45;
		z-index: 0;
	}
	.Solid {
		opacity: 0.8;
	}
	.Likely {
		opacity: 0.5;
	}
	.Lean {
		opacity: 0.3;
	}
	path.Rep {
		fill: #FF0000;
	}
	#hover_box_text_rating.Rep {
		stroke: #FF0000;
	}
	path.Dem {
		fill: #0000FF;
	}
	#hover_box_text_rating.Dem {
		stroke: #0000FF;
	}
	path.Tossup {
		fill: #FFFD00;
		opacity: 0.8;
	}
	#hover_box_text_rating.Tossup {
		stroke: #FFFD00;
	}
</style>

<script>
	window.onmousemove = function(e) {
		x = e.clientX,
		y = e.clientY;
		elem = document.getElementById("hover_box")
		elem.style.top = (y + 20) + 'px';
		elem.style.left = (x + 20) + 'px';
	};
			
	setHover = function(t) {
		t.style.strokeColor = "#BBBBBB"
		t.style.strokeOpacity = 0.45
		t.style.zIndex = 0;
		t.onmouseenter = function() {
			this.style.strokeWidth = 2;
			this.style.strokeOpacity = 1;
			this.style.strokeColor = "#BBBBBB"
			this.style.zIndex = 1;
			document.getElementById("hover_box").style.visibility = "visible";
			document.getElementById("hover_box_text_district").innerHTML = event.srcElement.id;
			tb = document.getElementById("hover_box_text_rating");
			if(solidR.includes(event.srcElement.id)) {
				tb.innerHTML = "Solid Rep.";
				tb.setAttribute("class","Solid Rep");
			} else {
				if(likelyR.includes(event.srcElement.id)) {
					tb.innerHTML = "Likely Rep.";
					tb.setAttribute("class","Likely Rep");
				} else {
					if(leanR.includes(event.srcElement.id)) {
						tb.innerHTML = "Lean Rep.";
						tb.setAttribute("class","Lean Rep");
					} else {
						if(tossup.includes(event.srcElement.id)) {
							tb.innerHTML = "Tossup";
							tb.setAttribute("class","Tossup");
						} else {
							if(leanD.includes(event.srcElement.id)) {
								tb.innerHTML = "Lean Dem.";
								tb.setAttribute("class","Lean Dem");
							} else {
								if(likelyD.includes(event.srcElement.id)) {
									tb.innerHTML = "Likely Dem.";
									tb.setAttribute("class","Likely Dem");
								} else {
									if(solidD.includes(event.srcElement.id)) {
										tb.innerHTML = "Solid Dem.";
										tb.setAttribute("class","Solid Dem");
									}
								}
							}
						}
					}
				}
			}
		}
		t.onmouseleave = function() {
			this.style.strokeWidth = 0.333334;
			this.style.strokeOpacity = 0.45;
			this.style.strokeColor = "#BBBBBB"
			this.style.zIndex = 0;
			document.getElementById("hover_box").style.visibility = "hidden";
		}
	}
	
	runHouseOfReps = function() {
		allPaths = document.getElementsByTagName("path");
		for(i = 0;i < allPaths.length;i++) {
			if(allPaths[i].id != "Dividing_line") {
				setHover(allPaths[i]);
				allPaths[i].style = "";
			}
		}
		for(i = 0;i < solidR.length;i++) {
			console.log("Set as Solid R: " + solidR[i]);
			document.getElementById(solidR[i]).setAttribute("class","Solid Rep");
		}
		for(i = 0;i < likelyR.length;i++) {
			console.log("Set as Likely R: " + likelyR[i]);
			document.getElementById(likelyR[i]).setAttribute("class","Likely Rep");
		}
		for(i = 0;i < leanR.length;i++) {
			console.log("Set as Lean R: " + leanR[i]);
			document.getElementById(leanR[i]).setAttribute("class","Lean Rep");
		}
		for(i = 0;i < tossup.length;i++) {
			console.log("Set as Tossup: " + tossup[i]);
			document.getElementById(tossup[i]).setAttribute("class","Tossup");
		}
		for(i = 0;i < leanD.length;i++) {
			console.log("Set as Lean D: " + leanD[i]);
			document.getElementById(leanD[i]).setAttribute("class","Lean Dem");
		}
		for(i = 0;i < likelyD.length;i++) {
			console.log("Set as Likely D: " + likelyD[i]);
			document.getElementById(likelyD[i]).setAttribute("class","Likely Dem");
		}
		for(i = 0;i < solidD.length;i++) {
			console.log("Set as Solid D: " + solidD[i]);
			document.getElementById(solidD[i]).setAttribute("class","Solid Dem");
		}
		
		document.getElementById("power_graph_solid_rep").innerHTML  = solidR.length;
		document.getElementById("power_graph_likely_rep").innerHTML = likelyR.length;
		document.getElementById("power_graph_lean_rep").innerHTML   = leanR.length;
		document.getElementById("power_graph_tossup").innerHTML = tossup.length;
		document.getElementById("power_graph_lean_dem").innerHTML   = leanD.length;
		document.getElementById("power_graph_likely_dem").innerHTML = likelyD.length;
		document.getElementById("power_graph_solid_dem").innerHTML  = solidD.length;
	}

	includeHTML = function() {
		var z, i, elmnt, file, xhttp;
		// loop through a collection of all HTML elements:
		z = document.getElementsByTagName("import");
		for(i = 0; i < z.length; i++) {
			elmnt = z[i];
			// search for elements with a certain atrribute:
			file = elmnt.getAttribute("href");
			if(file && !(elmnt.getAttribute("imported") == "true")) {
				// make an HTTP request using the attribute value as the file name:
				xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4) {
						if (this.status == 200) {elmnt.innerHTML = this.responseText;}
						if (this.status == 404) {elmnt.setAttribute("imported","notfound");}
						elmnt.setAttribute("imported","true");
						eval(elmnt.getAttribute("onload"));
						includeHTML();
					}
				} 
				xhttp.open("GET", file, true);
				xhttp.send();
				// exit the function:
				return;
			}
		}
	}


</script>

<body onload="includeHTML();">
	<table id="power_graph" style="font-family:Verdana; font-size:25pt;border-spacing: 3px;border-collapse: separate;">
		<tr>
			<td style="color:#FF0000;opacity:80%"><span id="power_graph_solid_rep" style="font-weight: bold;">0</span>&nbsp;Solid Rep.</td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td style="color:#0000FF;opacity:80%"><span id="power_graph_solid_dem" style="font-weight: bold;">0</span>&nbsp;Solid Dem.</td>
		</tr><tr>
			<td style="color:#FF0000;opacity:50%"><span id="power_graph_likely_rep" style="font-weight: bold;">0</span>&nbsp;Likely Rep.</td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td style="color:#FFFD00;opacity:100%"><span id="power_graph_tossup" style="font-weight: bold;">0</span>&nbsp;Tossup</td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td style="color:#0000FF;opacity:50%"><span id="power_graph_likely_dem" style="font-weight: bold;">0</span>&nbsp;Likely Dem.</td>
		</tr><tr>
			<td style="color:#FF0000;opacity:30%"><span id="power_graph_lean_rep" style="font-weight: bold;">0</span>&nbsp;Lean Rep.</td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td><span style="color:#FFFFFF">Filler</span></td>
			<td style="color:#0000FF;opacity:30%"><span id="power_graph_lean_dem" style="font-weight: bold;">0</span>&nbsp;Lean Dem.</td>
	</table>
	<import href="/house_of_reps.svg" onload="runHouseOfReps();"></import>
</body>
</html>
